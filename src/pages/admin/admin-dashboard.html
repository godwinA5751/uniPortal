<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Admin Panel</title>
  <link rel="stylesheet" href="admin.css">
  <link rel="icon" href="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20100%20100%22%3E%3Ctext%20x%3D%2250%22%20y%3D%2250%22%20font-size%3D%2250%22%20text-anchor%3D%22middle%22%20dominant-baseline%3D%22middle%22%3E%F0%9F%9A%81%3C%2Ftext%3E%3C%2Fsvg%3E">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>

  <header>
    <div class="head">
      <h2>Admin Panel</h2>
      <button class="logout-btn">
        <span>Logout</span>
        <i class="material-icons">logout</i>
      </button>
    </div>
  </header>

  <nav>
    <a href="#students">Manage Students</a> |
    <a href="#lecturers">Manage Lecturers</a> |
    <a href="#departments">Departments & Programs</a> |
    <a href="#sessions">Sessions & Semesters</a> |
    <a href="#courses">Courses</a> |
    <a href="#activities">Activity Slots</a> |
    <a href="#publish">Publish Results</a>
  </nav>

  <main>

    <!-- 1. Manage Students -->
    <section id="students">
      <h3>Manage Students</h3>
      <form id="studentForm">
        <input type="text" id="studentName" placeholder="Student Name" required>
        <input type="text" id="studentID" placeholder="Student ID" required>
        <input type="text" id="studentDept" placeholder="Department" required>
        <button type="submit">Add Student</button>
      </form>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>ID</th>
            <th>Department</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="studentsTable"></tbody>
      </table>
    </section>

    <!-- 2. Manage Lecturers -->
    <section id="lecturers">
      <h3>Manage Lecturers</h3>
      <form id="lecturerForm">
        <input type="text" id="lecturerName" placeholder="Lecturer Name" required>
        <input type="text" id="lecturerID" placeholder="Lecturer ID" required>
        <input type="text" id="lecturerDept" placeholder="Department" required>
        <button type="submit">Add Lecturer</button>
      </form>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>ID</th>
            <th>Department</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="lecturersTable"></tbody>
      </table>
    </section>

    <!-- 3. Departments & Programs -->
    <section id="departments">
      <h3>Departments & Programs</h3>
      <form id="departmentForm">
        <input type="text" id="deptName" placeholder="Department Name" required>
        <input type="text" id="programName" placeholder="Program Name" required>
        <button type="submit">Add Department</button>
      </form>
      <table>
        <thead>
          <tr>
            <th>Department</th>
            <th>Program</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="departmentsTable"></tbody>
      </table>
    </section>

    <!-- 4. Sessions & Semesters -->
    <section id="sessions">
      <h3>Sessions & Semesters</h3>
      <form id="sessionForm">
        <input type="text" id="session" placeholder="Session" required>
        <input type="text" id="semester" placeholder="Semester" required>
        <button type="submit">Add Session</button>
      </form>
      <table>
        <thead>
          <tr>
            <th>Session</th>
            <th>Semester</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="sessionsTable"></tbody>
      </table>
    </section>

    <!-- 5. Courses -->
    <section id="courses">
      <h3>Manage Courses</h3>
      <form id="courseForm">
        <input type="text" id="courseName" placeholder="Course Name" required>
        <input type="text" id="courseCode" placeholder="Course Code" required>
        <input type="text" id="courseDept" placeholder="Department" required>
        <button type="submit">Add Course</button>
      </form>
      <table class="course-table">
        <thead>
          <tr>
            <th>Course Name</th>
            <th>Course Code</th>
            <th>Department</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="coursesTable"></tbody>
      </table>
    </section>

    <!-- 6. Activity Slots -->
    <section id="activities">
      <h3>Activity Slots</h3>
      <form id="activityForm">
        <input type="text" id="activityName" placeholder="Activity Name" required>
        <input type="text" id="activityTime" placeholder="Time Slot" required>
        <button type="submit">Add Activity</button>
      </form>
      <table>
        <thead>
          <tr>
            <th>Activity</th>
            <th>Time Slot</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="activitiesTable"></tbody>
      </table>
    </section>

    <!-- 7. Publish Results -->
    <section id="publish">
      <h3>Publish Results</h3>
      <form id="publishForm">
        <input type="text" id="publishCourse" placeholder="Course Code" required>
        <input type="text" id="publishSession" placeholder="Session" required>
        <button type="submit">Publish</button>
      </form>
      <table>
        <thead>
          <tr>
            <th>Course</th>
            <th>Session</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="publishTable"></tbody>
      </table>
    </section>

  </main>

  <script src="admin.js"></script>
  <script>
    // Initialize forms and tables
    handleFormSubmit("studentForm", "students", ["studentName", "studentID", "studentDept"], "studentsTable");
    renderTable("students", "studentsTable", ["studentName", "studentID", "studentDept"]);

    handleFormSubmit("lecturerForm", "lecturers", ["lecturerName", "lecturerID", "lecturerDept"], "lecturersTable");
    renderTable("lecturers", "lecturersTable", ["lecturerName", "lecturerID", "lecturerDept"]);

    handleFormSubmit("departmentForm", "departments", ["deptName", "programName"], "departmentsTable");
    renderTable("departments", "departmentsTable", ["deptName", "programName"]);

    handleFormSubmit("sessionForm", "sessions", ["session", "semester"], "sessionsTable");
    renderTable("sessions", "sessionsTable", ["session", "semester"]);

    handleFormSubmit("courseForm", "courses", ["courseName", "courseCode", "courseDept"], "coursesTable");
    renderTable("courses", "coursesTable", ["courseName", "courseCode", "courseDept"]);

    handleFormSubmit("activityForm", "activities", ["activityName", "activityTime"], "activitiesTable");
    renderTable("activities", "activitiesTable", ["activityName", "activityTime"]);

    handleFormSubmit("publishForm", "published", ["publishCourse", "publishSession"], "publishTable");
    renderTable("published", "publishTable", ["publishCourse", "publishSession"]);

    // ------------------------
    // LOGOUT FUNCTION
    // ------------------------
    function logoutHandler() {
      // Clear all session storage keys
      sessionStorage.removeItem("adminLoggedIn");

      // Redirect to a default login page
      window.location.href = "admin-login.html"; // or your generic login page
    }

    // ------------------------
    // OPTIONAL: Attach logout to any button
    // ------------------------
    const logoutBtn = document.querySelector(".logout-btn");
    if (logoutBtn) {
      logoutBtn.addEventListener("click", logoutHandler);
    }
  </script>

</body>

</html>